<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GemVision AI - Weave Your Dream Jewelry</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.12.0",
    "three": "https://esm.sh/three@^0.164.0",
    "three/addons/": "https://esm.sh/three@^0.164.0/examples/jsm/",
    "three/": "https://aistudiocdn.com/three@^0.179.1/"
  }
}
</script>
</head>
<body>
    <div id="root">
        <header>
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 8.5L12 22L22 8.5L12 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                    <path d="M2 8.5L12 15L22 8.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                    <path d="M12 22V15" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                </svg>
                <h1>GemVision AI</h1>
            </div>
            <nav>
                <a href="#showcase-gallery">Gallery</a>
                <a href="#pricing-section">Pricing</a>
                <a href="#" id="nav-action-btn" class="login-btn">Login / Register</a>
            </nav>
        </header>

        <main>
            <section class="hero">
                <h2>Weave Your Dream Jewelry</h2>
                <p>Upload a photo of your gemstone and let our AI envision the perfect design. From classic elegance to modern artistry, discover the possibilities.</p>
            </section>

            <section id="generator" class="generator-section">
                <div id="generator-gate" class="generator-gate">
                    <h3>Create an account to start designing</h3>
                    <p>Sign up for a free account to get 3 design generations and see the magic for yourself.</p>
                    <button id="gate-signup-btn" class="generate-button">Sign Up for Free</button>
                </div>
                <div class="form-container">
                    <h3>Create Your Design</h3>
                    <div class="input-group file-input-group">
                         <label for="file-upload" class="file-upload-label has-tooltip" data-tooltip="Click to upload a photo or short video of your gemstone.">
                            <span id="file-name">Upload Photo or Video</span>
                        </label>
                        <input type="file" id="file-upload" accept="image/*,video/*" aria-label="Upload gemstone photo or video">
                        <button id="camera-button" class="camera-btn has-tooltip" aria-label="Use Camera" data-tooltip="Use your device's camera to take a photo of your gemstone.">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
                        </button>
                    </div>
                     <div id="image-preview-container" class="image-preview-container" style="display: none;">
                        <img id="image-preview" src="#" alt="Image preview" />
                        <button id="remove-image-btn" aria-label="Remove image">&times;</button>
                    </div>
                    <div id="video-preview-container" class="video-preview-container" style="display: none;">
                        <video id="video-preview" controls></video>
                        <button id="capture-frame-btn" class="generate-button">Capture Frame for Analysis</button>
                    </div>
                    <div id="analysis-results-container" class="analysis-results-container" style="display: none;">
                        <h4>Gemstone Analysis Report</h4>
                        <div id="analysis-content"></div>
                        <div id="analysis-sources"></div>
                    </div>
                    <div class="input-group">
                        <div class="label-with-action">
                            <label for="gem-type">Gemstone Type & Features</label>
                             <button id="analyze-gemstone-btn" class="smart-details-button has-tooltip" disabled data-tooltip="Let AI analyze your uploaded photo to perform a full gemological analysis, including price estimation.">üîÆ Analyze Gemstone</button>
                        </div>
                        <input type="text" id="gem-type" class="has-tooltip" placeholder="e.g., Ruby, vibrant red, oval cut..." data-tooltip="Describe the gemstone's type, color, and cut (e.g., 'Vibrant red ruby, oval cut').">
                    </div>
                    <div class="input-group">
                         <label for="gem-weight">Estimated Carat Weight</label>
                        <input type="text" id="gem-weight" class="has-tooltip" placeholder="e.g., 2 carats" data-tooltip="Enter the estimated weight of the gemstone in carats (e.g., '2 carats').">
                    </div>
                     <div class="input-group dimension-group">
                        <label>Dimensions (mm) (Optional)</label>
                        <div class="dimension-inputs">
                            <input type="number" id="gem-length" placeholder="Length" aria-label="Gemstone length in millimeters">
                            <input type="number" id="gem-breadth" placeholder="Breadth" aria-label="Gemstone breadth in millimeters">
                            <input type="number" id="gem-depth" placeholder="Depth" aria-label="Gemstone depth in millimeters">
                        </div>
                    </div>
                    <div class="input-group">
                        <div class="label-with-action">
                           <label for="design-prompt">Weave Your Dream Design</label>
                           <button id="dream-btn" class="dream-button has-tooltip" data-tooltip="Let AI generate a creative design prompt for you based on your gemstone photo.">‚ú® Let AI Dream</button>
                        </div>
                        <textarea id="design-prompt" class="has-tooltip" rows="5" placeholder="Describe your idea or click 'Let AI Dream' for inspiration..." data-tooltip="Describe the jewelry design you envision. Be as descriptive as you like!"></textarea>
                    </div>
                    <button id="generate-btn" class="generate-button has-tooltip" disabled data-tooltip="Generate unique jewelry designs based on your gemstone and prompt.">Generate Designs</button>
                    <p id="attempts-counter" class="attempts-counter" style="display:none;"></p>
                </div>
            </section>

            <section class="why-us-section">
                <h2>Why Choose GemVision AI?</h2>
                <div class="why-us-grid">
                    <div class="why-us-card">
                        <div class="icon">üí°</div>
                        <h3>Unparalleled Creativity</h3>
                        <p>Our AI co-creates with you, understanding the nuances of light, color, and form to produce designs that are both beautiful and manufacturable.</p>
                    </div>
                    <div class="why-us-card">
                        <div class="icon">üñºÔ∏è</div>
                        <h3>Photorealistic Visuals</h3>
                        <p>See your designs come to life with stunning, high-fidelity images. Perfect for client presentations, marketing, or admiring your creation.</p>
                    </div>
                    <div class="why-us-card">
                        <div class="icon">üßä</div>
                        <h3>Interactive 3D Models</h3>
                        <p>Go beyond static images. Explore every design in a dynamic 3D viewer for a true sense of scale, proportion, and detail from every angle.</p>
                    </div>
                    <div class="why-us-card">
                        <div class="icon">‚ö°</div>
                        <h3>From Idea to Icon in Minutes</h3>
                        <p>Drastically reduce your design cycle. Conceptualize and visualize in moments what used to take days of sketching and rendering.</p>
                    </div>
                </div>
            </section>

            <section id="admin-panel" class="admin-panel" style="display: none;">
                <h2>Admin Panel</h2>
                <form id="admin-upload-form" class="admin-form">
                    <div class="input-group">
                        <label for="admin-file-upload">Upload New Gemstone for Gallery</label>
                        <input type="file" id="admin-file-upload" accept="image/*">
                    </div>
                    <button type="submit" id="add-to-gallery-btn" class="generate-button">Add to Gallery</button>
                    <p id="admin-status" class="admin-status"></p>
                </form>
            </section>

            <section id="showcase-gallery" class="showcase-gallery">
                <h2>Showcase Gallery</h2>
                <div id="showcase-grid" class="showcase-grid">
                    <!-- Gallery items will be dynamically inserted here -->
                </div>
            </section>
            
            <section id="your-creations-section" class="your-creations-section" style="display: none;">
                <h2>Your Creations</h2>
                 <div id="gallery-content" class="gallery-grid">
                    <!-- User-generated cards will be prepended here -->
                </div>
            </section>

            <section id="my-creations-section" class="my-creations-section" style="display: none;">
                <h2>My Saved Creations</h2>
                <div id="my-creations-grid" class="showcase-grid">
                    <!-- User's saved creations will be dynamically inserted here -->
                </div>
            </section>

            <section id="pricing-section" class="pricing-section">
                <h2>Find a Plan That's Right For You</h2>
                <div class="pricing-grid">
                    <div class="pricing-tier">
                        <h3>Free</h3>
                        <div class="price">$0<span></span></div>
                        <p>Perfect for getting started. Register to get 3 free attempts.</p>
                        <ul>
                            <li>‚úîÔ∏è 3 free AI design generations</li>
                            <li>‚úîÔ∏è Standard image quality</li>
                            <li>‚úîÔ∏è Access to basic styles</li>
                            <li>‚úîÔ∏è Watermarked images</li>
                            <li>‚úîÔ∏è 3D viewer access</li>
                            <li>‚úîÔ∏è Save designs to your gallery</li>
                        </ul>
                        <button class="pricing-button" data-plan="free">Get Started</button>
                    </div>
                    <div class="pricing-tier recommended">
                        <h3>Pro</h3>
                        <div class="price">$7<span>/month</span></div>
                        <p>For enthusiasts and professionals who need more power.</p>
                        <ul>
                            <li>‚úîÔ∏è 50 AI design generations / month</li>
                            <li>‚úîÔ∏è High-resolution images</li>
                            <li>‚úîÔ∏è Full access to all jewelry styles</li>
                            <li>‚úîÔ∏è No watermarks</li>
                        </ul>
                        <button class="pricing-button" data-plan="pro">Choose Pro</button>
                    </div>
                    <div class="pricing-tier">
                        <h3>Elite</h3>
                        <div class="price">$14<span>/month</span></div>
                        <p>The ultimate toolkit for designers and businesses.</p>
                        <ul>
                            <li>‚úîÔ∏è Unlimited AI design generations</li>
                            <li>‚úîÔ∏è 4K ultra-HD image downloads</li>
                            <li>‚úîÔ∏è Export 3D models (.obj, .stl)</li>
                            <li>‚úîÔ∏è Priority customer support</li>
                            <li>‚úîÔ∏è Early access to new features</li>
                        </ul>
                        <button class="pricing-button" data-plan="elite">Go Elite</button>
                    </div>
                </div>
            </section>

        </main>
        
        <footer>
            <p>&copy; 2024 GemVision AI. Designs are for illustrative purposes.</p>
        </footer>

        <!-- Modals Container -->

        <!-- Authentication Modal -->
        <div id="auth-modal" class="modal-container" style="display: none;">
            <div class="modal-content">
                <button id="auth-close-btn" class="close-btn">&times;</button>
                <div id="login-view">
                    <h2>Welcome Back</h2>
                    <form id="login-form">
                        <div class="input-group">
                            <label for="login-email">Email</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="input-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit" class="generate-button">Login</button>
                    </form>
                    <p class="auth-toggle-text">Don't have an account? <a href="#" id="show-register-view">Register</a></p>
                </div>
                <div id="register-view" style="display: none;">
                    <h2>Create Your Account</h2>
                    <form id="register-form">
                        <div class="input-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" required>
                        </div>
                        <div class="input-group">
                            <label for="register-password">Password</label>
                            <input type="password" id="register-password" minlength="6" required>
                        </div>
                         <div class="input-group">
                            <label for="register-confirm-password">Confirm Password</label>
                            <input type="password" id="register-confirm-password" minlength="6" required>
                        </div>
                        <button type="submit" class="generate-button">Create Account</button>
                    </form>
                    <p class="auth-toggle-text">Already have an account? <a href="#" id="show-login-view">Login</a></p>
                </div>
                 <p class="auth-disclaimer">
                    For demo purposes, your account is stored locally in your browser and is not accessible on other devices.
                </p>
            </div>
        </div>
        
        <!-- Profile Modal -->
        <div id="profile-modal" class="modal-container" style="display: none;">
            <div class="modal-content">
                <button id="profile-close-btn" class="close-btn">&times;</button>
                <h2>My Profile</h2>
                <div id="profile-view">
                    <div class="profile-info-group">
                        <label>Email</label>
                        <p id="profile-email"></p>
                    </div>
                    <div class="profile-info-group">
                        <label>Free Attempts Remaining</label>
                        <p id="profile-attempts"></p>
                    </div>
                    <button id="edit-profile-btn" class="secondary-button">Edit Profile</button>
                </div>
                <div id="profile-edit-view" style="display: none;">
                    <form id="profile-edit-form">
                        <div class="input-group">
                            <label for="profile-edit-email">Email</label>
                            <input type="email" id="profile-edit-email" required>
                        </div>
                        <button type="submit" id="save-profile-btn" class="generate-button">Save Changes</button>
                    </form>
                </div>
                <hr class="modal-divider">
                <button id="profile-logout-btn" class="logout-button">Logout</button>
            </div>
        </div>


        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loader"></div>
            <p id="loading-text">Weaving your designs...</p>
        </div>

        <div id="camera-modal" class="modal-container" style="display: none;">
            <div class="modal-content">
                <video id="camera-stream" autoplay playsinline></video>
                <button id="capture-btn" class="generate-button">Capture</button>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </div>
        </div>
        
        <!-- Image Zoom Modal -->
        <div id="image-zoom-modal" class="zoom-modal">
            <span id="zoom-close-btn" class="zoom-close-btn">&times;</span>
            <div class="zoom-content-wrapper">
                <img id="zoomed-image" class="zoomed-image-content" src="" alt="Zoomed Design">
                <div id="zoom-analysis-container" class="zoom-analysis-container">
                    <h3>AI Gemstone Analysis</h3>
                    <p id="zoom-analysis-result">Click 'Analyze Gem' to learn more about this stone.</p>
                    <button id="analyze-gem-btn" class="generate-button">Analyze Gem</button>
                </div>
            </div>
        </div>
    </div>
    <div id="notification-container"></div>
    <script type="module" src="index.tsx"></script>
</body>
</html>